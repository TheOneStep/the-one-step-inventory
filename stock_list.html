<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8">
  <title>ì¬ê³  ê´€ë¦¬</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <style>
    :root{
      --bg:#eef4ff;
      --card:#ffffff;
      --primary:#007aff;
      --text:#222;
      --sub:#667085;
      --line:#e6e6e6;
      --radius:18px;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      padding:18px;
      font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Arial,sans-serif;
      background:var(--bg);
      color:var(--text);
    }

    .container{max-width:920px;margin:0 auto;}

    .header{ text-align:center; margin:10px 0 18px; }
    .header h1{ margin:0 0 6px; font-size:22px; letter-spacing:-0.2px; }
    .header p{ margin:0; color:var(--sub); font-size:13px; }

    /* Tabs */
    .tabs{ display:flex; gap:10px; margin:14px 0 14px; }
    .tab{
      flex:1;
      border:none;
      background:#dfe9ff;
      color:#2b2b2b;
      padding:13px 0;
      border-radius:999px;
      font-size:15px;
      font-weight:600;
      cursor:pointer;
    }
    .tab.active{ background:var(--primary); color:#fff; }

    /* Search */
    .search-box{
      background:var(--card);
      border-radius:var(--radius);
      padding:16px;
      border:1px solid rgba(0,0,0,.04);
      box-shadow:0 6px 18px rgba(0,0,0,.04);
      margin-bottom:14px;
    }
    .search-label{ display:block; font-size:13px; color:var(--sub); margin-bottom:8px; }
    .search-input{
      width:100%;
      padding:12px 14px;
      font-size:15px;
      border:1px solid var(--line);
      border-radius:14px;
      outline:none;
      background:#fbfbfb;
    }
    .search-input:focus{ border-color:#b8d0ff; background:#fff; }
    .actions{ display:flex; gap:10px; margin-top:10px; }
    .btn{
      flex:1;
      border:none;
      border-radius:999px;
      padding:12px 0;
      font-size:14px;
      cursor:pointer;
    }
    .btn-ghost{ background:#f2f4f7; color:#222; }

    /* Content */
    .content{
      background:var(--card);
      border-radius:var(--radius);
      padding:18px;
      border:1px solid rgba(0,0,0,.04);
      box-shadow:0 8px 24px rgba(0,0,0,.05);
      min-height:240px;
    }
    .empty{ text-align:center; color:#8b8b8b; font-size:14px; padding:64px 0; }
    .list{ display:flex; flex-direction:column; gap:12px; }

    /* Product card */
    .card{
      border:1px solid #eef0f2;
      border-radius:16px;
      padding:14px;
      background:#fff;
    }
    .card-top{ display:flex; justify-content:space-between; gap:10px; align-items:flex-start; }
    .card-title{ font-size:15px; font-weight:700; margin:0; }
    .card-meta{ margin-top:6px; font-size:12px; color:var(--sub); }
    .badge{
      min-width:74px;
      text-align:center;
      padding:7px 10px;
      border-radius:999px;
      font-size:12px;
      font-weight:700;
      background:#eef4ff;
      color:#1d4ed8;
      border:1px solid #dbe7ff;
    }
    .badge.low{ background:#fff0f0; color:#b42318; border-color:#ffe0e0; }
    .badge.warn{ background:#fff7ed; color:#b45309; border-color:#ffe2c2; }
    .row-actions{ display:flex; justify-content:flex-end; gap:8px; margin-top:10px; }
    .mini{
      border:none;
      border-radius:999px;
      padding:8px 12px;
      font-size:12px;
      cursor:pointer;
      background:#f2f4f7;
    }
    .mini.danger{ background:#ffecec; color:#b42318; }

    /* =========================
      Store card (ê±°ë˜ì²˜ ì¹´ë“œ)
      ========================= */

    /* ì¹´ë“œ í—¤ë” */
    .store-head {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      gap: 12px;
      cursor: pointer;
    }

    /* ì¢Œì¸¡ ì˜ì—­: ì—…ì²´ëª… + ìˆ˜ì • ë²„íŠ¼ (ì„¸ë¡œ ì •ë ¬) */
    .store-left {
      display: flex;
      flex-direction: column;
      align-items: flex-start;
    }

    /* ì—…ì²´ëª… */
    .store-name {
      font-weight: 600;
      font-size: 15px;
      line-height: 1.3;
      white-space: nowrap;
    }

    /* ìˆ˜ì • ë²„íŠ¼ */
    .btn-edit {
      margin-top: 6px; /* ì—…ì²´ëª… ì•„ë˜ ê°„ê²© */
      border: none;
      background: #eef4ff;
      color: #007aff;
      padding: 4px 12px;
      border-radius: 999px;
      font-size: 12px;
      cursor: pointer;
    }

    .btn-edit:active {
      opacity: 0.7;
    }

    /* ìš°ì¸¡ ê¸ˆì•¡ ì˜ì—­ */
    .store-right {
      text-align: right;
      font-size: 13px;
      line-height: 1.5;
      white-space: nowrap; /* ìˆ«ì + ì› ì¤„ë°”ê¿ˆ ë°©ì§€ */
    }

    /* ê¸ˆì•¡ í•œ ì¤„ì”© */
    .store-right .row {
      display: block;
    }

    /* ê¸ˆì•¡ */
    .money {
      font-weight: 600;
      white-space: nowrap;
    }

    .money.green { color: #1a9f38; }
    .money.red   { color: #d93025; }

    /* ë°˜í’ˆ ë©”ëª¨ */
    .return-note {
      font-size: 12px;
      color: #666;
      margin-top: 4px;
    }

    /* ê±°ë˜ì²˜ ë©”ëª¨ */
    .store-memo {
      padding: 8px 14px;
      font-size: 13px;
      color: #666;
      background: #f7f7f7;
      border-radius: 8px;
      margin: 8px 0;
    }

    /* ìƒì„¸ ëª©ë¡ */
    .store-body {
      display: none;
      margin-top: 12px;
      border-top: 1px solid #f0f0f0;
      padding-top: 12px;
    }

    .store-row {
      padding: 10px 0;
      border-bottom: 1px dashed #e5e5e5;
    }

    .store-row:last-child {
      border-bottom: none;
    }

    .store-row .pname {
      font-weight: 700;
    }

    .store-row .pcode {
      color: var(--sub);
      font-size: 12px;
      margin-top: 4px;
    }

    .store-row .pqty {
      margin-top: 6px;
      font-size: 13px;
    }

    /* ìƒí’ˆ ë©”ëª¨ ì ‘ê¸° */
    .product-memo.collapsed {
      max-height: 38px;
      overflow: hidden;
    }

    .search-label,
    .search-input,
    .search-input::placeholder {
      text-align: center;
    }
  </style>
</head>

<body>
  <div class="container">
    <!-- ğŸ” ìƒë‹¨ ë„¤ë¹„ê²Œì´ì…˜ -->
    <div class="top-nav">
      <button class="nav-btn" data-link="index.html">
        ğŸ“Š ëŒ€ì‹œë³´ë“œ
      </button>
      <button class="nav-btn" data-link="purchase_list.html">
        ğŸ“‹ ê±°ë˜ ëª©ë¡
      </button>
      <button class="nav-btn" data-link="stock_list.html">
        ğŸ“¦ ì¬ê³  ê´€ë¦¬
      </button>
    </div>
    <div class="header">
      <h1>ì¬ê³  ê´€ë¦¬</h1>
      <p>ìƒí’ˆë³„ Â· ê±°ë˜ì²˜ë³„ ì¬ê³  í˜„í™©ì„ í•œëˆˆì—</p>
    </div>

    <div class="tabs">
      <button class="tab active" id="tab-product" type="button">ìƒí’ˆë³„ ì¬ê³ </button>
      <button class="tab" id="tab-store" type="button">ê±°ë˜ì²˜ë³„ í˜„í™©</button>
    </div>

    <div class="search-box">
      <label class="search-label" id="search-label">ìƒí’ˆëª… ë˜ëŠ” ë°”ì½”ë“œ ê²€ìƒ‰</label>
      <input class="search-input" id="search-input" type="text" placeholder="ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš”" />

      <div class="actions">
        <button class="btn btn-ghost" id="btn-clear" type="button">ê²€ìƒ‰ ì§€ìš°ê¸°</button>
      </div>
    </div>

    <!-- ì—‘ì…€ ë‹¤ìš´ë¡œë“œ (ê²€ìƒ‰ ì§€ìš°ê¸° ë°”ë¡œ ì•„ë˜) -->
    <div class="excel-row">
      <button id="btn-excel" class="excel-btn">â¬‡ ì—‘ì…€ ë‹¤ìš´ë¡œë“œ</button>
    </div>

    <div class="content">
      <div class="list" id="list-box">
        <div class="empty">ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ì…ë‹ˆë‹¤.</div>
      </div>
      <div class="empty" id="empty" style="display:none;">í‘œì‹œí•  ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.</div>
    </div>

    <!-- <div class="adsense">
      AdSense ê´‘ê³  ì˜ì—­
    </div> -->
  </div>

  <script src="static/js/stock_list.js"></script>
  <script>
  // ğŸ” ìƒë‹¨ ë„¤ë¹„ ì´ë™
  document.querySelectorAll(".nav-btn").forEach(btn => {
    btn.addEventListener("click", () => {
      const link = btn.dataset.link;
      if (link) location.href = link;
    });
  });
  // â­ í˜„ì¬ í˜ì´ì§€ active ì²˜ë¦¬
  const path = location.pathname;

  document.querySelectorAll(".nav-btn").forEach(btn => {
    const link = btn.dataset.link;
    if (!link) return;

    if (path.endsWith(link)) {
      btn.classList.add("active");
    }
  });
</script>
</body>
</html>
