<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8">
  <title>재고 관리</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <style>
    :root{
      --bg:#eef4ff;
      --card:#ffffff;
      --primary:#007aff;
      --text:#222;
      --sub:#667085;
      --line:#e6e6e6;
      --radius:18px;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      padding:18px;
      font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Arial,sans-serif;
      background:var(--bg);
      color:var(--text);
    }

    .container{max-width:920px;margin:0 auto;}

    .header{ text-align:center; margin:10px 0 18px; }
    .header h1{ margin:0 0 6px; font-size:22px; letter-spacing:-0.2px; }
    .header p{ margin:0; color:var(--sub); font-size:13px; }

    /* Tabs */
    .tabs{ display:flex; gap:10px; margin:14px 0 14px; }
    .tab{
      flex:1;
      border:none;
      background:#dfe9ff;
      color:#2b2b2b;
      padding:13px 0;
      border-radius:999px;
      font-size:15px;
      font-weight:600;
      cursor:pointer;
    }
    .tab.active{ background:var(--primary); color:#fff; }

    /* Search */
    .search-box{
      background:var(--card);
      border-radius:var(--radius);
      padding:16px;
      border:1px solid rgba(0,0,0,.04);
      box-shadow:0 6px 18px rgba(0,0,0,.04);
      margin-bottom:14px;
    }
    .search-label{ display:block; font-size:13px; color:var(--sub); margin-bottom:8px; }
    .search-input{
      width:100%;
      padding:12px 14px;
      font-size:15px;
      border:1px solid var(--line);
      border-radius:14px;
      outline:none;
      background:#fbfbfb;
    }
    .search-input:focus{ border-color:#b8d0ff; background:#fff; }
    .actions{ display:flex; gap:10px; margin-top:10px; }
    .btn{
      flex:1;
      border:none;
      border-radius:999px;
      padding:12px 0;
      font-size:14px;
      cursor:pointer;
    }
    .btn-ghost{ background:#f2f4f7; color:#222; }

    /* Content */
    .content{
      background:var(--card);
      border-radius:var(--radius);
      padding:18px;
      border:1px solid rgba(0,0,0,.04);
      box-shadow:0 8px 24px rgba(0,0,0,.05);
      min-height:240px;
    }
    .empty{ text-align:center; color:#8b8b8b; font-size:14px; padding:64px 0; }
    .list{ display:flex; flex-direction:column; gap:12px; }

    /* Product card */
    .card{
      border:none;                 /* ✅ 테두리 제거 */
      border-radius:16px;
      padding:14px;
      background:#fff;
      box-shadow:0 4px 12px rgba(0,0,0,.06); /* ✅ 카드 느낌 유지 */
    }
    .card-top{ display:flex; justify-content:space-between; gap:10px; align-items:flex-start; }
    .card-title{ font-size:15px; font-weight:700; margin:0; }
    .card-meta{ margin-top:6px; font-size:12px; color:var(--sub); }
    .badge{
      min-width:74px;
      text-align:center;
      padding:7px 10px;
      border-radius:999px;
      font-size:12px;
      font-weight:700;
      background:#eef4ff;
      color:#1d4ed8;
      border:1px solid #dbe7ff;
    }
    .badge.low{ background:#fff0f0; color:#b42318; border-color:#ffe0e0; }
    .badge.warn{ background:#fff7ed; color:#b45309; border-color:#ffe2c2; }
    .row-actions{ display:flex; justify-content:flex-end; gap:8px; margin-top:10px; }
    .mini{
      border:none;
      border-radius:999px;
      padding:8px 12px;
      font-size:12px;
      cursor:pointer;
      background:#f2f4f7;
    }
    .mini.danger{ background:#ffecec; color:#b42318; }

    /* Store card */
    .store-head{ display:flex; justify-content:space-between; align-items:flex-start; cursor:pointer; }
    .store-name{ font-weight:800; font-size:16px; }
    .store-right{ text-align:right; font-size:12px; color:var(--sub); }
    .money{ font-weight:800; font-size:13px; }
    .money.red{ color:#b42318; }
    .money.green{ color:#0a7d00; }
    .store-body{ display:none; margin-top:12px; border-top:1px solid #f0f0f0; padding-top:12px; }
    .store-row{ padding:10px 0; border-bottom:1px dashed #e5e5e5; }
    .store-row:last-child{ border-bottom:none; }
    .store-row .pname{ font-weight:700; }
    .store-row .pcode{ color:var(--sub); font-size:12px; margin-top:4px; }
    .store-row .pqty{ margin-top:6px; font-size:13px; }

    /* AdSense placeholder */
    .adsense{
      margin:18px 0 0;
      padding:16px;
      border:1px dashed #c9c9c9;
      border-radius:16px;
      text-align:center;
      color:#9a9a9a;
      background:rgba(255,255,255,.55);
      font-size:13px;
    }
    /* 엑셀 버튼 (거래목록과 동일 톤) */
    .excel-btn{
      padding:10px 14px;
      font-size:14px;
      border-radius:10px;
      border:1px solid #007aff;
      background:#eef5ff;
      color:#007aff;
      cursor:pointer;
      white-space:nowrap;
    }

    .excel-row{
      margin:6px 0 18px;
      display:flex;
      justify-content:center;  /* ✅ 가운데 정렬 */
    }

    /* 🔵 검색 라벨 가운데 정렬 */
    .search-label{
      text-align: center;
    }

    /* 🔵 입력값 + placeholder 가운데 정렬 */
    .search-input{
      text-align: center;
    }

    /* 🔵 placeholder 가운데 정렬 (브라우저별 대응) */
    .search-input::placeholder{
      text-align: center;
    }
    .search-input::-webkit-input-placeholder{
      text-align: center;
    }
    .search-input:-ms-input-placeholder{
      text-align: center;
    }
    /* 🔝 상단 공통 네비 */
    .top-nav{
      display:flex;
      gap:10px;
      margin:0 0 12px;   /* ⬅️ 위 여백 제거 */
    }

    .nav-btn{
      flex:1;
      padding:12px 0;
      border-radius:999px;
      border:1px solid #d0d7e2;
      background:#ffffff;
      font-size:14px;
      font-weight:600;
      cursor:pointer;
      color:#333;
      box-shadow:0 2px 6px rgba(0,0,0,.05);
    }

    .nav-btn:hover{
      background:#eef4ff;
    }

    /* 현재 페이지 표시 */
    .nav-btn.active{
      background:#007aff;
      color:#fff;
      border-color:#007aff;
    }
    /* 거래처 카드 헤더 오른쪽 정렬 보강 */
    .store-right{
      display:flex;
      flex-direction:column;
      align-items:flex-end;
      gap:8px; /* 돈/버튼 간격 */
    }

    /* 거래처 수정 버튼 */
    .mini.edit{
      background:#eef5ff;
      color:#007aff;
      border:1px solid #cfe2ff;
    }
    .product-memo.collapsed {
      max-height: 38px;
      overflow: hidden;
    }
    /* ===== 거래처 카드 헤더 ===== */
    .store-head {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      gap: 12px;
    }

    /* 좌측: 거래처명 + 수정 버튼 */
    .store-left {
      display: flex;
      align-items: center;
      gap: 8px;
      min-width: 0;
    }

    .store-name {
      font-weight: 600;
      font-size: 15px;
      white-space: nowrap;
    }

    /* 수정 버튼 */
    .btn-edit {
      border: none;
      background: #eef4ff;
      color: #007aff;
      padding: 4px 10px;
      border-radius: 999px;
      font-size: 12px;
      cursor: pointer;
    }

    .btn-edit:active {
      opacity: 0.7;
    }

    /* 우측 금액 영역 */
    .store-right {
      text-align: right;
      font-size: 13px;
      line-height: 1.5;
      white-space: nowrap; /* ✅ 줄바꿈 완전 차단 */
    }

    /* 한 줄씩 정렬 */
    .store-right .row {
      display: block;
    }

    /* 금액 */
    .money {
      font-weight: 600;
      white-space: nowrap; /* ✅ 숫자+원 분리 방지 */
    }

    .money.green { color: #1a9f38; }
    .money.red { color: #d93025; }

    /* 반품 메모 */
    .return-note {
      font-size: 12px;
      color: #666;
      margin-top: 4px;
    }

    /* 거래처 메모 */
    .store-memo {
      padding: 8px 14px;
      font-size: 13px;
      color: #666;
      background: #f7f7f7;
      border-radius: 8px;
      margin: 8px 0;
    }
    /* ===== 거래처 카드 헤더 ===== */
    .store-head {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
    }

    /* 좌측 영역: 세로 정렬 */
    .store-left {
      display: flex;
      flex-direction: column;
      align-items: flex-start;
    }

    /* 업체명 */
    .store-name {
      font-weight: 600;
      font-size: 15px;
      line-height: 1.3;
    }

    /* 수정 버튼 */
    .btn-edit {
      margin-top: 6px;            /* ✅ 1cm 느낌의 여백 */
      border: none;
      background: #eef4ff;
      color: #007aff;
      padding: 4px 12px;
      border-radius: 999px;
      font-size: 12px;
      cursor: pointer;
    }

    .btn-edit:active {
      opacity: 0.7;
    }

    /* 우측 금액 영역 */
    .store-right {
      text-align: right;
      font-size: 13px;
      line-height: 1.5;
      white-space: nowrap;        /* ✅ 줄바꿈 방지 */
    }

    .store-right .row {
      display: block;
    }

    /* 금액 */
    .money {
      font-weight: 600;
      white-space: nowrap;
    }

    .money.green { color: #1a9f38; }
    .money.red { color: #d93025; }

    /* 반품 메모 */
    .return-note {
      font-size: 12px;
      color: #666;
      margin-top: 4px;
    }

    /* 거래처 메모 */
    .store-memo {
      padding: 8px 14px;
      font-size: 13px;
      color: #666;
      background: #f7f7f7;
      border-radius: 8px;
      margin: 8px 0;
    }

    .search-label,
    .search-input,
    .search-input::placeholder {
      text-align: center;
    }

    /* 🖼️ 썸네일 */
    .thumb-wrap{
      margin-bottom:10px;
      text-align:center;
    }

    .thumb-img{
      width:100%;
      max-height:160px;
      object-fit:contain;
      border-radius:12px;
      cursor:pointer;
      background:#fafafa;
    }
    /* ❌ 상품 카드 안쪽 작은 테두리 제거 */
    .card > div {
      border: none !important;
      box-shadow: none !important;
      background: transparent !important;
    }
    .card > * {
      border: none !important;
    }
  </style>
</head>

<body>
  <div class="container">
    <!-- 🔝 상단 네비게이션 -->
    <div class="top-nav">
      <button class="nav-btn" data-link="index.html">
        📊 대시보드
      </button>
      <button class="nav-btn" data-link="purchase_list.html">
        📋 거래 목록
      </button>
      <button class="nav-btn" data-link="stock_list.html">
        📦 재고 관리
      </button>
    </div>
    <div class="header">
      <h1>재고 관리</h1>
      <p>상품별 · 거래처별 재고 현황을 한눈에</p>
    </div>

    <div class="tabs">
      <button class="tab active" id="tab-product" type="button">상품별 재고</button>
      <button class="tab" id="tab-store" type="button">거래처별 현황</button>
    </div>

    <div class="search-box">
      <label class="search-label" id="search-label">상품명 또는 바코드 검색</label>
      <input class="search-input" id="search-input" type="text" placeholder="검색어를 입력하세요" />

      <div class="actions">
        <button class="btn btn-ghost" id="btn-clear" type="button">검색 지우기</button>
      </div>
    </div>

    <!-- 엑셀 다운로드 (검색 지우기 바로 아래) -->
    <div class="excel-row">
      <button id="btn-excel" class="excel-btn">⬇ 엑셀 다운로드</button>
    </div>

    <div class="content">
      <div class="list" id="list-box">
        <div class="empty">데이터를 불러오는 중입니다.</div>
      </div>
      <div class="empty" id="empty" style="display:none;">표시할 데이터가 없습니다.</div>
    </div>

    <!-- <div class="adsense">
      AdSense 광고 영역
    </div> -->
  </div>

  <script src="static/js/stock_list.js"></script>
  <script>
  // 🔝 상단 네비 이동
  document.querySelectorAll(".nav-btn").forEach(btn => {
    btn.addEventListener("click", () => {
      const link = btn.dataset.link;
      if (link) location.href = link;
    });
  });
  // ⭐ 현재 페이지 active 처리
  const path = location.pathname;

  document.querySelectorAll(".nav-btn").forEach(btn => {
    const link = btn.dataset.link;
    if (!link) return;

    if (path.endsWith(link)) {
      btn.classList.add("active");
    }
  });
</script>
<!-- 🔍 이미지 확대 팝업 -->
<div id="img-modal" style="
  display:none;
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.7);
  z-index:9999;
  align-items:center;
  justify-content:center;
">
  <img id="img-modal-view" style="
    max-width:90%;
    max-height:90%;
    border-radius:16px;
    background:#fff;
  ">
</div>
</body>
</html>
